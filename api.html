<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>MonsterAR Payment API</title>
</head>
<body>
    <script>
        // ä»˜è²»é©—è­‰API - æ ¹æ“šè¨­å®šçš„ç‹€æ…‹ä»£ç¢¼å›å‚³JSON
        
        // åœ¨é€™è£¡è¨­å®šè¦å›å‚³çš„ç‹€æ…‹ä»£ç¢¼ (1-4)
        const STATUS_CODE = 2;  // â† æ‚¨å¯ä»¥ä¿®æ”¹é€™å€‹æ•¸å­—
        
        // ç‹€æ…‹ä»£ç¢¼å°æ‡‰çš„è¨Šæ¯
        const STATUS_MESSAGES = {
            1: "å·²ä»˜è²»ç”¨æˆ¶ï¼Œæ­£å¸¸ä½¿ç”¨",
            2: "æœªä»˜è²»ç‰ˆæœ¬ - è«‹è¯çµ¡å®¢æœå‡ç´š", 
            3: "æ‚¨çš„å¸³æˆ¶å·²é€¾æœŸï¼Œè«‹å„˜é€Ÿè¯çµ¡å®¢æœè™•ç†ä»˜æ¬¾äº‹å®œ\nå®¢æœé›»è©±ï¼š0800-123-456",
            4: "ç„¡æ³•é©—è­‰æˆæ¬Šç‹€æ…‹ï¼Œè«‹æª¢æŸ¥ç¶²è·¯é€£ç·šä¸¦é‡æ–°å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼"
        };
        
        // å»ºç«‹å›æ‡‰ç‰©ä»¶
        const response = {
            statusCode: STATUS_CODE,
            message: STATUS_MESSAGES[STATUS_CODE] || STATUS_MESSAGES[4]
        };
        
        // æª¢æŸ¥æ˜¯å¦æ˜¯APIè«‹æ±‚
        const urlParams = new URLSearchParams(window.location.search);
        const isApiRequest = urlParams.get('api') === 'true' || 
                            document.referrer.includes('unity') ||
                            navigator.userAgent.includes('UnityPlayer');
        
        if (isApiRequest) {
            // APIè«‹æ±‚ï¼šå›å‚³ç´”JSON
            document.body.innerHTML = '';
            document.write(JSON.stringify(response, null, 2));
            document.close();
        } else {
            // ä¸€èˆ¬ç€è¦½å™¨è¨ªå•ï¼šé¡¯ç¤ºå‹å–„ä»‹é¢
            document.body.innerHTML = `
                <h1>MonsterAR ä»˜è²»é©—è­‰ API</h1>
                <div style="font-family: monospace; background: #f5f5f5; padding: 20px; border-radius: 5px;">
                    <h3>ç•¶å‰è¨­å®šï¼š</h3>
                    <pre>${JSON.stringify(response, null, 2)}</pre>
                </div>
                <div style="margin-top: 20px;">
                    <h3>ç‹€æ…‹ä»£ç¢¼èªªæ˜ï¼š</h3>
                    <ul>
                        <li><strong>1</strong> - å·²ä»˜è²»ï¼šæ­£å¸¸ä½¿ç”¨ï¼Œä¸åšä»»ä½•å‹•ä½œ</li>
                        <li><strong>2</strong> - æœªä»˜è²»ï¼šé¡¯ç¤ºæµ®æ°´å°</li>
                        <li><strong>3</strong> - é•·æœŸæ‹–æ¬ ï¼šå½ˆå‡ºæç¤ºä¸¦å¼·åˆ¶é€€å‡º</li>
                        <li><strong>4</strong> - ç¶²è·¯ç•°å¸¸ï¼šé¡¯ç¤ºç¶²è·¯éŒ¯èª¤æç¤º</li>
                    </ul>
                </div>
                <div style="margin-top: 20px;">
                    <h3>API ä½¿ç”¨æ–¹å¼ï¼š</h3>
                    <p>Unityè«‹æ±‚ï¼š<code>GET ${window.location.href}?api=true</code></p>
                    <p>ç›´æ¥JSONï¼š<code>GET ${window.location.origin}${window.location.pathname.replace('api.html', 'payment-config.json')}</code></p>
                </div>
                <div style="margin-top: 20px; padding: 15px; background: #e8f4f8; border-radius: 5px;">
                    <h4>ğŸ”§ ç¶­è­·èªªæ˜ï¼š</h4>
                    <p>è¦æ›´æ”¹ç‹€æ…‹ï¼Œè«‹ç·¨è¼¯æ­¤æª”æ¡ˆç¬¬9è¡Œçš„ <code>STATUS_CODE</code> æ•¸å€¼</p>
                </div>
            `;
        }
    </script>
</body>
</html>